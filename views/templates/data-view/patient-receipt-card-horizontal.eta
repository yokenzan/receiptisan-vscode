<section class="data-section data-section-patient-receipt-horizontal" data-section="basic-info">
  <h3 class="section-title">Âü∫Êú¨ÊÉÖÂ†±</h3>
  <% const renderWarekiCompact = (value) => String(value).replace(/\(([^)]+)\)/g, '<span class="date-wareki">($1)</span>'); %>
  <div class="section-horizontal-columns">
    <div class="section-horizontal-pane">
        <table>
          <tr>
            <th>No.</th>
            <td><%= it.receiptHeader.id %></td>
          </tr>
          <tr>
            <th>Ë®∫ÁôÇÂπ¥Êúà</th>
            <td>
              <span class="date-value"><%~ renderWarekiCompact(it.receiptHeader.shinryouYm) %></span>Ë®∫ÁôÇ
            </td>
          </tr>
          <tr>
            <th>Á®ÆÂà•</th>
            <td>
              <% for (const badge of it.receiptHeader.typeBadges) { %>
              <span class="tag tag-type receipt-chip">
                <span class="receipt-chip-code"><%= badge.code %></span>
                <span class="receipt-chip-name"><%= badge.name %></span>
              </span>
              <% } %>
            </td>
          </tr>
          <tr>
            <th>ÁâπË®ò‰∫ãÈ†Ö</th>
            <td>
              <% if (it.receiptHeader.tokkiJikous.length > 0) { %>
              <% for (const tokki of it.receiptHeader.tokkiJikous) { %>
              <span class="tag tag-tokki receipt-chip">
                <span class="receipt-chip-code"><%= tokki.code %></span>
                <span class="receipt-chip-name"><%= tokki.name %></span>
              </span>
              <% } %>
              <% } else { %>
              <span class="placeholder">-</span>
              <% } %>
            </td>
          </tr>
          <% if (it.receiptHeader.nyuuinDateCell) { %>
          <tr>
            <th>ÂÖ•Èô¢Êó•</th>
            <td>
              <span class="date-value"><%~ renderWarekiCompact(it.receiptHeader.nyuuinDateCell) %></span>
            </td>
          </tr>
          <% } %>
        </table>
      </div>
    <div class="section-horizontal-pane">
      <table class="patient-info-table">
          <tr>
            <th>ÊÇ£ËÄÖÁï™Âè∑</th>
            <td>
              <% if (it.patient.patientId === '-') { %><span class="placeholder">-</span><% } else { %><%= it.patient.patientId %><% } %>
            </td>
          </tr>
          <tr>
            <th>Ê∞èÂêç</th>
            <td>
              <% if (it.patient.name === '-') { %>
              <span class="placeholder">-</span>
              <% } else if (it.patient.nameKana) { %>
              <span><%= it.patient.name %></span><span class="name-kana-inline">(<%= it.patient.nameKana %>)</span>
              <% } else { %>
              <%= it.patient.name %>
              <% } %>
            </td>
          </tr>
          <tr>
            <th>ÊÄßÂà•</th>
            <td>
              <% if (it.patient.sexKind === 'male') { %>
              <span class="tag tag-sex-male"><%= it.patient.sexName %></span>
              <% } else if (it.patient.sexKind === 'female') { %>
              <span class="tag tag-sex-female"><%= it.patient.sexName %></span>
              <% } else { %>
              <%= it.patient.sexName %>
              <% } %>
            </td>
          </tr>
          <tr>
            <th>ÁîüÂπ¥ÊúàÊó•</th>
            <td>
              <% if (it.patient.birthDate === '-') { %>
              <span class="placeholder">-</span>
              <% } else { %>
              <span class="date-value"><%~ renderWarekiCompact(it.patient.birthDate) %></span>
              <% if (it.patient.ageYearsMonths) { %>
              <span class="age-display"><span class="value-num"><%= it.patient.ageYearsMonths.years %></span><span class="value-unit">Ê≠≥</span><span class="value-num"><%= it.patient.ageYearsMonths.months %></span><span class="value-unit">„É∂Êúà</span><% if (it.patient.isBirthMonth) { %>üéÇ<% } %></span>
              <% } %>
              <% } %>
            </td>
          </tr>
        </table>
    </div>
  </div>
</section>
